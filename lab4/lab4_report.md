### University: ITMO University
### Faculty: FTMI
### Course: Cloud platforms as the basis of technology entrepreneurship
### Year: 2024/2025
### Group: U4225
### Author: Gribkov Savelii Evgenievich
### Lab: Lab4
### Date of create: 04.11.2024
### Date of finished: tbc

# Лабораторная работа 4 - Разработка инфраструктуры MVP AI приложения

## Цель работы: 
Создать прототип AI-приложения с базовой функциональностью

## Описание приложения:
Пользователь загружает изображение, приложение выделяет и классифицирует цвета с изображения - и с помощью модели машинного обучения выделяет палитру основных цветов с изображения в формате HTML цветов
## Основной функционал:
1. Пользователь загружает изображение через веб-интерфейс;
2. Приложение через API запрос осуществляет внешнюю интеграцию со сторонними сервисами.
3. Приложение анализирует изображение, распознает цвета и выдает формализованно цвета из основной палитры

## Составляющие проекта:
1. Пользовательский интерфейс
   - Интерфейс загрузки изображений
   - Интерфейс отображения результатов работы приложения
3. Серверная часть
   - REST API для передачи изображений
   - Микросервисы для обработки изображений
   - Микросервисы по взаимодействию с AI-моделью.
5. Размещение бэкенда
   - VM для облачного размещения бэкенда и AI-модуля
7. Обеспечение безопасности
   - Система входов и аутентификации
9. Логирование
    - Graylog для сбора, хранения и анализа логов и ошибок
11. Хранение данных
    - SQL база данных для хранения метаданных
    - Файловое хранилище для хранения загружаемых изображений
13. AI модуль
    - Модель машинного обучения для распознавания палитры цветов на загружаемых изображениях
15. Оптимизация работы
    - CDN доставка контента
    - Настройка кэширования
    
## Набросок инфраструктуры:
![image](https://github.com/user-attachments/assets/ed233c68-edb3-4320-916b-f725c6c54944)

## Расходы на содержание:
### Начальное состояние
| Элемент | Содержание | Прайсинг ($/мес) 
| ------------- | ------------- | -------------
| Безопасность  | IAM-роли  | free
| VM Google Cloud  | Virtual CPUs:1 Mem: 4GB  | `34`
| Логирование  | GrayLog: Start sub  | `12`
| SQL DB  | PostgreSQL: Single node cluster  | `10`
| NoSQL DB  | MongoDB | free
| AI модуль  | Cloud GPU NVidia T4  | `30`
| **Total** |  | **86** 

### Тестирование
| Элемент | Содержание | Прайсинг ($/мес) 
| ------------- | ------------- | -------------
| Безопасность  | GKE Autopilot vCPU  | `20`
| VM Google Cloud  | Virtual CPUs:2 Mem: 8GB  | `69`
| Логирование  | GrayLog: Advanced Sub  | `32`
| SQL DB  | PostgreSQL High availability clusters | `60`
| NoSQL DB  | MongoDB Dedicated | `20`
| AI модуль  | Cloud GPU NVidia L4  | `60`
| **Total** |  | **271** 

### Продовое решение
| Элемент | Содержание | Прайсинг ($/мес) 
| ------------- | ------------- | -------------
| Безопасность  | GKE Autopilot vCPU  | `50`
| VM Google Cloud  | Virtual CPUs:4 Mem: 16GB  | `138`
| Логирование  | GrayLog: Custom Sub  | `50`
| SQL DB  | PostgreSQL High availability clusters | `100`
| NoSQL DB  | MongoDB Serverless | `50`
| AI модуль  | Cloud GPU NVidia L4 (increase vCPUs)  | `250`
| **Total** |  | **638** 
